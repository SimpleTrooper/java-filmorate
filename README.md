# java-filmorate

![ER диаграмма для Filmorate](/ER_Filmorate.pdf) 

Таблицы:
**film** - таблица, хранящая фильмы
 -film_id       - идентификатор фильма, первичный ключ
 -name          - название
 -description   - описание
 -release_date  - дата выхода
 -duration      - продолжительность в минутах
 -mpa_rating_id - внешний ключ, ссылка на таблицу mpa_rating, рейтинг фильма
 
 **mpa_rating** - таблица, хранящая рейтинги mpa для фильмов
  -mpa_rating_id - идентификатор, первичный ключ
  -name          - наименование рейтинга
  
  **genre** - таблица, хранящая жанры фильмов
   -genre_id - идентификатор, первичный ключ
   -name     - название
   
  **film_genre** - таблица для связи многие ко многим фильмов и жанров
   -film_genre_id - идентификатор, первичный ключ
   -film_id       - внешний ключ, ссылка на таблицу фильмов
   -genre_id      - внешний ключ, ссылка на таблицу жанров
   
   **user** - таблица, хранящая пользователей
    -user_id  - идентификатор, первичный ключ
    -email    - электронная почта
    -login    - логин
    -name     - имя пользователя
    -birthday - дата рождения
    
   **film_user_like** - таблица, хранящая лайки пользователей фильмам
    -film_user_like_id - идентификатор, первичный ключ
    -film_id           - внешний ключ, ссылка на таблицу фильмов
    -user_id           - внешний ключ, ссылка на таблицу пользователей
    
   **friendship** - таблица со статусами дружбы между пользователями
   -friendship_id - идентификатор, первичный ключ
   -user_id       - внешний ключ, пользователь, запросивший дружбу
   -friend_id     - внешний ключ, пользователь, к которому запросили дружбу
   -status        - статус дружбы (подтверждено/не подтверждено)
   
   
   Примеры запросов:
   1) Вывести все фильмы с рейтингом PG
          SELECT * 
          FROM film AS f
          INNER JOIN mpa_rating AS mpa_r ON f.film_id=mpa_r.film_id
          WHERE mpa_r.name='PG'
          
   2)
